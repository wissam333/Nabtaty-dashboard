import{_ as Z}from"./C7It6wLV.js";import{_ as ee}from"./BNkK-RkI.js";import{_ as te,h as le,r as i,f as r,g as c,j as e,t as a,k as u,l as T,u as o,F as O,m as ae,p as se,q as S,s as m,c as P,v as oe,x,y as B,z as V,A as z,B as ne,C as ie,D as de,E as re,G as ce}from"./CEFpPj_H.js";import{u as b}from"./BzMfPq7a.js";import{s as ue}from"./BVs5u3tg.js";import{s as pe}from"./BNS2vSA9.js";import{_ as me}from"./SdlkZ04P.js";import"./Ces09fVS.js";const ve=N=>(ie("data-v-d5795382"),N=N(),de(),N),fe={class:"title-container"},_e={class:"head-title"},be={class:"header4"},he={class:"options"},ge={class:"table-responsive"},ye={key:0,class:"loading"},$e=ve(()=>e("img",{src:re,alt:""},null,-1)),Ce=[$e],ke={key:1,class:"cat-tabel"},we={class:"d-flex align-items-center"},Ee={class:"cat-img mx-2"},Ae=["src"],Ue={key:1,src:me,alt:""},Ie={class:"cat-info d-flex flex-column align-items-start"},Re=["onClick"],De={class:"edit-link"},Se=["onClick"],Ne=["dir"],Fe={class:"content"},Le={class:"d-flex flex-column-reverse mb-3"},xe=["placeholder"],Be={for:"titleAr"},Ve={class:"d-flex flex-column-reverse mb-3"},qe=["placeholder"],je={for:"titleEn"},Me={class:"drop-area my-4"},Te={class:"upload-box"},Oe=["src"],Pe={class:"mt-5 d-flex w-100 justify-content-end"},ze=["onClick"],Ge=["dir"],Ye={class:"content"},We={class:"d-flex flex-column-reverse mb-3"},Ke=["placeholder"],Qe={for:"edittitleAr"},He={class:"d-flex flex-column-reverse mb-3"},Je=["placeholder"],Xe={for:"edittitleEn"},Ze={class:"drop-area my-4"},et={class:"upload-box"},tt=["src"],lt={class:"mt-5 d-flex w-100 justify-content-end"},at=["onClick"],st={__name:"Category",setup(N){const{public:{api:f,apiBase:p}}=ne(),{locale:F}=le(),{$awn:h}=ce(),E=i(!1),A=i(!1);let U=i(),I=i(),g=i(),y=i(),R=i(),v=i(!1);const G=t=>{v.value=t};let q=i(!1),j=i();const L=async()=>{if(q.value=!0,F.value==="ar"){const{data:t,pending:l}=await b(`${f.findAllCategories}`,{credentials:"include",baseURL:p,headers:{"accept-language":"ar"}},"$rbUp1MmSMI");P(()=>{t.value&&(j.value=t.value)})}else{const{data:t,pending:l}=await b(`${f.findAllCategories}`,{credentials:"include",baseURL:p,headers:{"accept-language":"en"}},"$RxcACkjFhd");P(()=>{t.value&&(j.value=t.value)})}q.value=!1};L();const Y=async()=>{await b(`${f.RemoveCat}/${R.value.id}`,{credentials:"include",baseURL:p,method:"DELETE"},"$kVEjuGK6ae"),L(),v.value=!1,F.value==="en"?h.success("Category Deleted Successfully",{durations:{global:5e3}}):h.success("تم حذف الفئة بنجاح",{durations:{global:5e3}})},_=i(null),$=i(null);function W(t){const l=t.files[0];$.value=l;const d=new FileReader;d.onload=async w=>{_.value=w.target.result},d.readAsDataURL(l)}const C=i(null),D=i(null);function K(t){const l=t.files[0];D.value=l;const d=new FileReader;d.onload=async w=>{C.value=w.target.result},d.readAsDataURL(l)}const Q=async()=>{const t=new FormData;t.append("category_name_AR",U.value),t.append("category_name_EN",I.value),D.value&&t.append("photoPath",D.value),await b(f.AddCat,{baseURL:p,method:"POST",credentials:"include",body:t},"$BByYka8PFq"),E.value=!1,C.value=null,D.value=null,F.value==="en"?h.success("Category Added Successfully",{durations:{global:5e3}}):h.success("تم إضافة الفئة بنجاح",{durations:{global:5e3}})},H=async()=>{const{data:t}=await b(`${f.GetCatById}/${k.value.id}`,{credentials:"include",baseURL:p,headers:{"accept-language":"ar"}},"$7qdr6UjW4y"),{data:l}=await b(`${f.GetCatById}/${k.value.id}`,{credentials:"include",baseURL:p,headers:{"accept-language":"en"}},"$NFUAetQVcj");y.value=l.value.category_name,g.value=t.value.category_name,$.value=p+"/"+l.value.photo,_.value=p+"/"+l.value.photo};let k=i();const J=async()=>{const t=new FormData;t.append("category_name_AR",g.value),t.append("category_name_EN",y.value),$.value&&t.append("photoPath",$.value),await b(`${f.EditCat}/${k.value.id}`,{credentials:"include",body:t,baseURL:p,method:"PUT"},"$bRyaIYvO8B"),L(),A.value=!1,_.value=null,$.value=null,F.value==="en"?h.success("Category Edited Successfully",{durations:{global:5e3}}):h.success("تم تعديل الفئة بنجاح",{durations:{global:5e3}})};return(t,l)=>{const d=Z,w=pe,M=ue,X=ee;return r(),c(O,null,[e("div",{class:se(["contain",("useSidebar"in t?t.useSidebar:o(oe))().value?"shrink":""])},[e("div",fe,[e("div",_e,[e("h4",be,a(t.$i18n.locale==="ar"?"قائمة الفئات":"Categories List"),1)]),e("div",he,[e("div",{class:"reload btn btn-success mx-2",onClick:l[0]||(l[0]=s=>E.value=!0)},[u(d,{icon:["fas","plus"]}),T(" "+a(t.$i18n.locale==="ar"?"إضافة":"Add"),1)]),e("div",{class:"reload btn btn-success",onClick:l[1]||(l[1]=s=>L())},[u(d,{icon:["fas","rotate-right"]}),T(" "+a(t.$i18n.locale==="ar"?"إعادة تحميل":"Reload"),1)])])]),e("div",ge,[o(q)?(r(),c("div",ye,Ce)):(r(),c("div",ke,[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,a(t.$i18n.locale==="ar"?"الاسم":"Name"),1),e("th",null,a(t.$i18n.locale==="ar"?"تعديل":"Edit"),1)])]),e("tbody",null,[(r(!0),c(O,null,ae(o(j),s=>(r(),c("tr",{class:"rows",key:s.id},[e("td",we,[e("div",Ee,[s.photo?(r(),c("img",{key:0,src:o(p)+"/"+s.photo,alt:""},null,8,Ae)):(r(),c("img",Ue))]),e("div",Ie,[e("h5",null,a(s.category_name),1)])]),e("td",null,[e("span",{class:"delete",onClick:n=>{m(v)?v.value=!0:v=!0,m(R)?R.value=s:R=s}},[u(d,{icon:["fas","trash"]})],8,Re),e("span",De,[e("span",{class:"edit",onClick:n=>{A.value=!0,m(k)?k.value=s:k=s,H()}},[u(d,{icon:["fas","pen-to-square"]})],8,Se)])])]))),128))])])]))])],2),u(M,{visible:o(E),"onUpdate:visible":l[6]||(l[6]=s=>m(E)?E.value=s:null),modal:"",style:{width:"25rem"}},{container:S(({closeCallback:s})=>[e("div",{class:"dialog",dir:t.$i18n.locale==="ar"?"rtl":"ltr"},[e("h5",null,a(t.$i18n.locale==="ar"?"إضافة فئة جديدة":"Add New Category"),1),e("div",Fe,[e("div",null,[e("div",Le,[x(e("input",{"onUpdate:modelValue":l[2]||(l[2]=n=>m(U)?U.value=n:U=n),id:"titleAr",type:"text",autocomplete:"off",placeholder:t.$i18n.locale==="ar"?"الاسم باللغة العربية":"Name In Arabic",title:"Enter only letters and spaces",required:""},null,8,xe),[[B,o(U)]]),e("label",Be,a(t.$i18n.locale==="ar"?"الاسم باللغة العربية":"Name In Arabic"),1)]),e("div",Ve,[x(e("input",{"onUpdate:modelValue":l[3]||(l[3]=n=>m(I)?I.value=n:I=n),id:"titleEn",type:"text",autocomplete:"off",placeholder:t.$i18n.locale==="ar"?"الاسم باللغة الانجليزية":"Name In English",required:"",title:"Enter only letters and spaces"},null,8,qe),[[B,o(I)]]),e("label",je,a(t.$i18n.locale==="ar"?"الاسم باللغة الانجليزية":"Name In English"),1)]),e("div",Me,[e("div",Te,[u(w,{mode:"basic",onSelect:K,customUpload:"",maxFileSize:1e6,accept:"image/*",auto:"",class:"form-control p-button-outlined"}),o(C)?(r(),c("img",{key:0,src:o(C),alt:"Image",class:"shadow-md w-100 h-100 sm:w-64"},null,8,Oe)):V("",!0),o(C)?(r(),c("button",{key:1,class:"btn btn-danger clear",onClick:l[4]||(l[4]=z(n=>{C.value=null,D.value=null},["prevent"]))},[u(d,{class:"xmark",icon:["fas","xmark"]})])):V("",!0)])])])]),e("div",Pe,[e("button",{class:"btn btn-secondary",onClick:s},a(t.$t("Close")),9,ze),e("button",{class:"btn btn-success mx-2",onClick:l[5]||(l[5]=n=>Q()),autofocus:""},a(t.$t("Add")),1)])],8,Ne)]),_:1},8,["visible"]),u(M,{visible:o(A),"onUpdate:visible":l[11]||(l[11]=s=>m(A)?A.value=s:null),modal:"",style:{width:"25rem"}},{container:S(({closeCallback:s})=>[e("div",{class:"dialog",dir:t.$i18n.locale==="ar"?"rtl":"ltr"},[e("h5",null,a(t.$i18n.locale==="ar"?"تعديل فئة":"Edit Category"),1),e("div",Ye,[e("div",null,[e("div",We,[x(e("input",{"onUpdate:modelValue":l[7]||(l[7]=n=>m(g)?g.value=n:g=n),id:"edittitleAr",type:"text",autocomplete:"off",placeholder:t.$i18n.locale==="ar"?"الاسم باللغة العربية":"Name In Arabic",title:"Enter only letters and spaces",required:""},null,8,Ke),[[B,o(g)]]),e("label",Qe,a(t.$i18n.locale==="ar"?"الاسم باللغة العربية":"Name In Arabic"),1)]),e("div",He,[x(e("input",{"onUpdate:modelValue":l[8]||(l[8]=n=>m(y)?y.value=n:y=n),id:"edittitleEn",type:"text",autocomplete:"off",placeholder:t.$i18n.locale==="ar"?"الاسم باللغة الانجليزية":"Name In English",required:"",title:"Enter only letters and spaces"},null,8,Je),[[B,o(y)]]),e("label",Xe,a(t.$i18n.locale==="ar"?"الاسم باللغة الانجليزية":"Name In English"),1)]),e("div",Ze,[e("div",et,[u(w,{mode:"basic",onSelect:W,customUpload:"",maxFileSize:1e6,accept:"image/*",auto:"",class:"form-control p-button-outlined"}),o(_)?(r(),c("img",{key:0,src:o(_),alt:"Image",class:"shadow-md w-100 h-100 sm:w-64"},null,8,tt)):V("",!0),o(_)?(r(),c("button",{key:1,class:"btn btn-danger clear",onClick:l[9]||(l[9]=z(n=>{_.value=null,$.value=null},["prevent"]))},[u(d,{class:"xmark",icon:["fas","xmark"]})])):V("",!0)])])])]),e("div",lt,[e("button",{class:"btn btn-secondary",onClick:s},a(t.$t("Close")),9,at),e("button",{class:"btn btn-success mx-2",onClick:l[10]||(l[10]=n=>J()),autofocus:""},a(t.$t("Edit")),1)])],8,Ge)]),_:1},8,["visible"]),u(X,{isOpen:o(v),onUpdateIsOpen:G},{header:S(()=>[e("h4",null,a(t.$i18n.locale==="ar"?"تأكيد الحذف":"Confirm Delete"),1)]),content:S(()=>[e("p",null,a(t.$i18n.locale==="ar"?"هل أنت متأكد من أنك تريد حذف":"Are You Sure You Want To Delete")+' "'+a(o(R).category_name)+'"'+a(t.$i18n.locale==="ar"?"؟":"?"),1)]),footer:S(()=>[e("button",{class:"btn btn-secondary",onClick:l[12]||(l[12]=s=>m(v)?v.value=!1:v=!1)},a(t.$t("Close")),1),e("button",{class:"btn btn-danger",onClick:l[13]||(l[13]=s=>Y())},a(t.$t("Delete")),1)]),_:1},8,["isOpen"])],64)}}},mt=te(st,[["__scopeId","data-v-d5795382"]]);export{mt as default};
