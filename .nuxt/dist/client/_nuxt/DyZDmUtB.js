import{_ as X}from"./C7It6wLV.js";import{_ as ee}from"./BNkK-RkI.js";import{_ as le,h as se,r as d,f as b,g as f,j as e,t,k as r,l as P,u as i,F as G,m as te,p as ae,q as U,s as c,c as O,v as oe,x as T,y as q,z as M,A as ne,B as ie,C as de,D as re,E as ce,G as ue}from"./CEFpPj_H.js";import{u as g}from"./BzMfPq7a.js";import{s as pe}from"./BVs5u3tg.js";import{s as ve}from"./BNS2vSA9.js";import"./Ces09fVS.js";const me=S=>(de("data-v-5832ec6b"),S=S(),re(),S),be={class:"title-container"},fe={class:"head-title"},_e={class:"header4"},he={class:"options"},$e={class:"table-responsive"},ge={key:0,class:"loading"},ye=me(()=>e("img",{src:ce,alt:""},null,-1)),Ae=[ye],we={key:1,class:"cat-tabel"},De=["src"],Ce=["onClick"],ke={class:"edit-link"},Ie=["onClick"],Ee=["dir"],Re={class:"fw-bold mb-5"},Ue={class:"content"},Se={class:"d-flex flex-column-reverse mb-3"},Fe=["placeholder"],Ne={for:"description_AR"},Le={class:"d-flex flex-column-reverse mb-3"},Te=["placeholder"],qe={for:"description_En"},xe={class:"drop-area my-4"},Be={class:"upload-box"},Ve=["src"],Me={class:"mt-5 d-flex w-100 justify-content-end"},Pe=["onClick"],Ge=["dir"],Oe={class:"content"},ze={class:"d-flex flex-column-reverse mb-3"},je=["placeholder"],Qe={for:"editDescription_AR"},Ye={class:"d-flex flex-column-reverse mb-3"},He=["placeholder"],We={for:"editDescription_EN"},Ze={class:"drop-area my-4"},Je={class:"upload-box"},Ke=["src"],Xe={class:"mt-5 d-flex w-100 justify-content-end"},el=["onClick"],ll={__name:"About",setup(S){const{public:{api:_,apiBase:u}}=ie(),{locale:C}=se(),{$awn:m}=ue(),y=d(!1),k=d(!1);let h=d(),$=d(),A=d(),w=d();const F=d(null),N=d(null);function z(l){const s=l.files[0];N.value=s;const o=new FileReader;o.onload=async v=>{F.value=v.target.result},o.readAsDataURL(s)}const I=d(null),x=d(null);function j(l){const s=l.files[0];x.value=s;const o=new FileReader;o.onload=async v=>{I.value=v.target.result},o.readAsDataURL(s)}let L=d(),p=d(!1);const Q=l=>{p.value=l};let B=d(!1),V=d();const E=async()=>{if(B.value=!0,C.value==="ar"){const{data:l,pending:s}=await g(`${_.GetAbout}`,{baseURL:u,credentials:"include",headers:{"accept-language":"ar"}},"$ScoCAA9ImP");O(()=>{l.value&&(V.value=l.value)})}else{const{data:l,pending:s}=await g(`${_.GetAbout}`,{baseURL:u,credentials:"include",headers:{"accept-language":"en"}},"$yQs8uua3N8");O(()=>{l.value&&(V.value=l.value)})}B.value=!1};E();const Y=async()=>{await g(`${_.DeleteAbout}/${L.value.id}`,{credentials:"include",baseURL:u,method:"DELETE"},"$dQqQuiH0CU"),E(),p.value=!1,C.value==="en"?m.success("Information Deleted Successfully",{durations:{global:5e3}}):m.success("تم حذف المعلومات بنجاح",{durations:{global:5e3}})},H=async()=>{var o,v,R;const l=new FormData;l.append("description_AR",A.value),l.append("description_EN",w.value),l.append("photo",x.value);const{data:s}=await g(_.AddAbout,{baseURL:u,credentials:"include",method:"POST",body:l},"$04d0wnMMsT");y.value=!1,A.value=!1,w.value=!1,(o=s.value)!=null&&o.aboutUsId?C.value==="en"?m.success("Information Added Successfully",{durations:{global:5e3}}):m.success("تم إضافة المعلومات بنجاح",{durations:{global:5e3}}):C.value==="en"?m.alert("error occurd: "+((v=s.value)==null?void 0:v.error),{durations:{global:5e3}}):m.alert(": حدث خطأ"+((R=s.value)==null?void 0:R.error),{durations:{global:5e3}}),E(),y.value=!1,phone.value="",email.value="",website.value=""},W=async l=>{const{data:s}=await g(`${_.GetAboutById}/${D.value.id}`,{credentials:"include",baseURL:u,headers:{"accept-language":"ar"}},"$IOkT57xfl0"),{data:o}=await g(`${_.GetAboutById}/${D.value.id}`,{credentials:"include",baseURL:u,headers:{"accept-language":"en"}},"$TtZaig8Cck");h.value=s.value.description,$.value=o.value.description,F.value=u+"/"+o.value.photo,N.value=null};let D=d();const Z=async()=>{const l=new FormData;l.append("description_AR",h.value),l.append("description_EN",$.value),l.append("photo",N.value),await g(`${_.UpdateAbout}/${D.value.id}`,{credentials:"include",body:l,baseURL:u,method:"PUT"},"$ysmPfYBNqL"),E(),k.value=!1,h.value="",$.value="",N.value="",C.value==="en"?m.success("Category Edited Successfully",{durations:{global:5e3}}):m.success("تم تعديل الفئة بنجاح",{durations:{global:5e3}})};return(l,s)=>{const o=X,v=ve,R=pe,J=ee;return b(),f(G,null,[e("div",{class:ae(["contain",("useSidebar"in l?l.useSidebar:i(oe))().value?"shrink":""])},[e("div",be,[e("div",fe,[e("h4",_e,t(l.$i18n.locale==="ar"?"معلومات التواصل":"About Information"),1)]),e("div",he,[e("div",{class:"reload btn btn-success mx-2",onClick:s[0]||(s[0]=a=>y.value=!0)},[r(o,{icon:["fas","plus"]}),P(" "+t(l.$i18n.locale==="ar"?"إضافة":"Add"),1)]),e("div",{class:"reload btn btn-success",onClick:s[1]||(s[1]=a=>E())},[r(o,{icon:["fas","rotate-right"]}),P(" "+t(l.$i18n.locale==="ar"?"إعادة تحميل":"Reload"),1)])])]),e("div",$e,[i(B)?(b(),f("div",ge,Ae)):(b(),f("div",we,[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,t(l.$i18n.locale==="ar"?"الصورة":"Photo"),1),e("th",null,t(l.$i18n.locale==="ar"?"الوصف":"Description"),1),e("th",null,t(l.$i18n.locale==="ar"?"تعديل":"Edit"),1)])]),e("tbody",null,[(b(!0),f(G,null,te(i(V),a=>{var n;return b(),f("tr",{class:"rows",key:a.id},[e("td",null,[e("div",null,[e("span",null,[e("img",{height:"100",src:i(u)+"/"+a.photo,alt:""},null,8,De)])])]),e("td",null,[e("div",null,[e("span",null,t(((n=a.description)==null?void 0:n.length)>30?a.description.slice(0,30)+"...":a.description),1)])]),e("td",null,[e("span",{class:"delete",onClick:K=>{c(p)?p.value=!0:p=!0,c(L)?L.value=a:L=a}},[r(o,{icon:["fas","trash"]})],8,Ce),e("span",ke,[e("span",{class:"edit",onClick:K=>{k.value=!0,c(D)?D.value=a:D=a,W()}},[r(o,{icon:["fas","pen-to-square"]})],8,Ie)])])])}),128))])])]))])],2),r(R,{visible:i(y),"onUpdate:visible":s[6]||(s[6]=a=>c(y)?y.value=a:null),modal:"",style:{width:"50rem"}},{container:U(({closeCallback:a})=>[e("div",{class:"dialog",dir:l.$i18n.locale==="ar"?"rtl":"ltr"},[e("h5",Re,t(l.$i18n.locale==="ar"?"إضافة قسم جديد":"Add New Part"),1),e("div",Ue,[e("div",null,[e("div",Se,[T(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=n=>c(A)?A.value=n:A=n),id:"description_AR",type:"text",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic",required:""},null,8,Fe),[[q,i(A)]]),e("label",Ne,t(l.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic"),1)]),e("div",Le,[T(e("textarea",{"onUpdate:modelValue":s[3]||(s[3]=n=>c(w)?w.value=n:w=n),id:"description_En",type:"text",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English",required:""},null,8,Te),[[q,i(w)]]),e("label",qe,t(l.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English"),1)]),e("div",xe,[e("div",Be,[r(v,{mode:"basic",onSelect:j,customUpload:"",maxFileSize:1e6,accept:"image/*",auto:"",class:"form-control p-button-outlined"}),i(I)?(b(),f("img",{key:0,src:i(I),alt:"Image",class:"shadow-md w-100 h-100 sm:w-64"},null,8,Ve)):M("",!0),i(I)?(b(),f("button",{key:1,class:"btn btn-danger clear",onClick:s[4]||(s[4]=ne(n=>{I.value=null,x.value=null},["prevent"]))},[r(o,{class:"xmark",icon:["fas","xmark"]})])):M("",!0)])])])]),e("div",Me,[e("button",{class:"btn btn-secondary",onClick:a},t(l.$t("Close")),9,Pe),e("button",{class:"btn btn-success mx-2",onClick:s[5]||(s[5]=n=>H()),autofocus:""},t(l.$t("Add")),1)])],8,Ee)]),_:1},8,["visible"]),r(R,{visible:i(k),"onUpdate:visible":s[10]||(s[10]=a=>c(k)?k.value=a:null),modal:"",style:{width:"50rem"}},{container:U(({closeCallback:a})=>[e("div",{class:"dialog",dir:l.$i18n.locale==="ar"?"rtl":"ltr"},[e("span",null,t(l.$i18n.locale==="ar"?"تعديل المعلومات ":"Edit Information"),1),e("div",Oe,[e("div",null,[e("div",ze,[T(e("textarea",{"onUpdate:modelValue":s[7]||(s[7]=n=>c(h)?h.value=n:h=n),id:"editDescription_AR",type:"text",autocomplete:"off",rows:"5",placeholder:l.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic",required:""},null,8,je),[[q,i(h)]]),e("label",Qe,t(l.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic"),1)]),e("div",Ye,[T(e("textarea",{"onUpdate:modelValue":s[8]||(s[8]=n=>c($)?$.value=n:$=n),id:"editDescription_EN",type:"text",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English",rows:"5",required:""},null,8,He),[[q,i($)]]),e("label",We,t(l.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English"),1)]),e("div",Ze,[e("div",Je,[r(v,{mode:"basic",onSelect:z,customUpload:"",maxFileSize:1e6,accept:"image/*",auto:"",class:"form-control p-button-outlined"}),i(F)?(b(),f("img",{key:0,src:i(F),alt:"Image",class:"shadow-md w-100 h-100 sm:w-64"},null,8,Ke)):M("",!0)])])])]),e("div",Xe,[e("button",{class:"btn btn-secondary",onClick:a},t(l.$t("Close")),9,el),e("button",{class:"btn btn-success mx-2",onClick:s[9]||(s[9]=n=>Z()),autofocus:""},t(l.$t("Edit")),1)])],8,Ge)]),_:1},8,["visible"]),r(J,{isOpen:i(p),onUpdateIsOpen:Q},{header:U(()=>[e("h4",null,t(l.$i18n.locale==="ar"?"تأكيد الحذف":"Confirm Delete"),1)]),content:U(()=>[e("p",null,t(l.$i18n.locale==="ar"?"هل أنت متأكد من أنك تريد حذف":"Are You Sure You Want To Delete")+" "+t(l.$i18n.locale==="ar"?"؟":"?"),1)]),footer:U(()=>[e("button",{class:"btn btn-secondary",onClick:s[11]||(s[11]=a=>c(p)?p.value=!1:p=!1)},t(l.$t("Close")),1),e("button",{class:"btn btn-danger",onClick:s[12]||(s[12]=a=>Y())},t(l.$t("Delete")),1)]),_:1},8,["isOpen"])],64)}}},rl=le(ll,[["__scopeId","data-v-5832ec6b"]]);export{rl as default};
