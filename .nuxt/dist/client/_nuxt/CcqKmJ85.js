import{_ as x}from"./C7It6wLV.js";import{_ as z}from"./BNkK-RkI.js";import{_ as W,h as X,r as n,f as R,g as U,j as e,t as s,k as b,l as V,u as i,F as T,m as J,p as Z,q as N,s as d,c as G,v as K,x as y,y as L,B as Q,C as ee,D as le,E as ae,G as se}from"./CEFpPj_H.js";import{u as f}from"./BzMfPq7a.js";import{s as te}from"./BVs5u3tg.js";import"./Ces09fVS.js";const oe=D=>(ee("data-v-db92e89b"),D=D(),le(),D),ne={class:"title-container"},ie={class:"head-title"},de={class:"header4"},ce={class:"options"},re={class:"table-responsive"},ue={key:0,class:"loading"},pe=oe(()=>e("img",{src:ae,alt:""},null,-1)),me=[pe],ve={key:1,class:"product-tabel"},be={class:"d-flex align-items-center"},fe={class:"fw-bold"},he={class:"fw-bold"},_e=["onClick"],$e={class:"edit-link"},ge=["onClick"],ye=["dir"],Le={class:"content"},Ee={class:"d-flex flex-column-reverse mb-3"},ke=["placeholder"],Ce={for:"nameAr"},we={class:"d-flex flex-column-reverse mb-3"},Ae=["placeholder"],Re={for:"nameEn"},Ue={class:"d-flex flex-column-reverse mb-3"},Ne=["placeholder"],De={for:"price"},Se={class:"mt-5 d-flex w-100 justify-content-end"},Pe=["onClick"],qe=["dir"],Be={class:"content"},Ie={class:"d-flex flex-column-reverse mb-3"},Ve=["placeholder"],Te={for:"editnameAr"},Ge={class:"d-flex flex-column-reverse mb-3"},Me=["placeholder"],Oe={for:"editnameEn"},je={class:"d-flex flex-column-reverse mb-3"},Ye=["placeholder"],Fe={for:"price"},He={class:"mt-5 d-flex w-100 justify-content-end"},xe=["onClick"],ze={__name:"Locations",setup(D){const{public:{api:r,apiBase:u}}=Q(),{locale:S}=X(),{$awn:h}=se(),E=n(!1),k=n(!1);let _=n(),$=n(),C=n(),p=n(),m=n(),v=n(),w=n(),c=n(!1);const M=l=>{c.value=l};let q=n(!1),B=n();const A=async()=>{if(q.value=!0,S.value==="ar"){const{data:l,pending:a}=await f(`${r.GetAllLocations}`,{credentials:"include",baseURL:u,headers:{"accept-language":"ar"}},"$JtrzHH4k76");G(()=>{l.value&&(B.value=l.value)})}else{const{data:l,pending:a}=await f(`${r.GetAllLocations}`,{credentials:"include",baseURL:u,headers:{"accept-language":"en"}},"$hYERLZfPwG");G(()=>{l.value&&(B.value=l.value)})}q.value=!1};A();const O=async()=>{await f(`${r.DeleteLocation}/${w.value.id}`,{credentials:"include",baseURL:u,method:"DELETE"},"$RMHi7LpgYR"),A(),c.value=!1,S.value==="en"?h.success("Location Deleted Successfully",{durations:{global:5e3}}):h.success("تم حذف المنطقة بنجاح",{durations:{global:5e3}})},j=async()=>{E.value=!1,await f(r.AddLocation,{baseURL:u,method:"POST",credentials:"include",body:{location_name_AR:_.value,location_name_EN:$.value,price:C.value}},"$TAqXBXj1r9"),A(),_.value="",$.value="",S.value==="en"?h.success("Location Added Successfully",{durations:{global:5e3}}):h.success("تم إضافة المنطقة بنجاح",{durations:{global:5e3}})};let g=n();const Y=async()=>{const{data:l}=await f(`${r.GetLocationById}/${g.value.id}`,{credentials:"include",baseURL:u,headers:{"accept-language":"ar"}},"$cP51mprgi7"),{data:a}=await f(`${r.GetLocationById}/${g.value.id}`,{credentials:"include",baseURL:u,headers:{"accept-language":"en"}},"$puWtgkOilB");p.value=l.value.name,m.value=a.value.name,v.value=a.value.price},F=async()=>{k.value=!1,await f(`${r.UpdateLocation}/${g.value.id}`,{credentials:"include",body:{location_name_AR:p.value,location_name_EN:m.value,price:v.value},baseURL:u,method:"PUT"},"$D2xxC11fIw"),A(),p.value="",m.value="",v.value=0,S.value==="en"?h.success("Location Edited Successfully",{durations:{global:5e3}}):h.success("تم تعديل المنطقة بنجاح",{durations:{global:5e3}})};return(l,a)=>{const P=x,I=te,H=z;return R(),U(T,null,[e("div",{class:Z(["contain",("useSidebar"in l?l.useSidebar:i(K))().value?"shrink":""])},[e("div",ne,[e("div",ie,[e("h4",de,s(l.$i18n.locale==="ar"?"قائمة المناطق":"Regions List"),1)]),e("div",ce,[e("div",{class:"reload btn btn-success mx-2",onClick:a[0]||(a[0]=t=>E.value=!0)},[b(P,{icon:["fas","plus"]}),V(" "+s(l.$i18n.locale==="ar"?"إضافة":"Add"),1)]),e("div",{class:"reload btn btn-success",onClick:a[1]||(a[1]=t=>A())},[b(P,{icon:["fas","rotate-right"]}),V(" "+s(l.$i18n.locale==="ar"?"إعادة تحميل":"Reload"),1)])])]),e("div",re,[i(q)?(R(),U("div",ue,me)):(R(),U("div",ve,[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,s(l.$i18n.locale==="ar"?"الاسم":"Name"),1),e("th",null,s(l.$i18n.locale==="ar"?"السعر":"Price"),1),e("th",null,s(l.$i18n.locale==="ar"?"تعديل":"Edit"),1)])]),e("tbody",null,[(R(!0),U(T,null,J(i(B),t=>(R(),U("tr",{class:"rows",key:t.id},[e("td",be,[e("h5",fe,s(t.name),1)]),e("td",he,"$"+s(t.price),1),e("td",null,[e("span",{class:"delete",onClick:o=>{d(c)?c.value=!0:c=!0,d(w)?w.value=t:w=t}},[b(P,{icon:["fas","trash"]})],8,_e),e("span",$e,[e("span",{class:"edit",onClick:o=>{k.value=!0,d(g)?g.value=t:g=t,Y()}},[b(P,{icon:["fas","pen-to-square"]})],8,ge)])])]))),128))])])]))])],2),b(I,{visible:i(E),"onUpdate:visible":a[5]||(a[5]=t=>d(E)?E.value=t:null),modal:"",style:{width:"25rem"}},{container:N(({closeCallback:t})=>[e("div",{class:"dialog",dir:l.$i18n.locale==="ar"?"rtl":"ltr"},[e("h5",null,s(l.$i18n.locale==="ar"?"إضافة منطقة جديدة":"Add New Region"),1),e("div",Le,[e("div",null,[e("div",Ee,[y(e("input",{"onUpdate:modelValue":a[2]||(a[2]=o=>d(_)?_.value=o:_=o),id:"nameAr",type:"text",required:"",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الاسم بالعربي":"Arabic Name",title:"Enter only letters and spaces"},null,8,ke),[[L,i(_)]]),e("label",Ce,s(l.$i18n.locale==="ar"?"الاسم بالعربي":"Arabic Name"),1)]),e("div",we,[y(e("input",{"onUpdate:modelValue":a[3]||(a[3]=o=>d($)?$.value=o:$=o),id:"nameEn",type:"text",required:"",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الاسم بالانجليزي":"English Name"},null,8,Ae),[[L,i($)]]),e("label",Re,s(l.$i18n.locale==="ar"?"الاسم بالانجليزي":"English Name"),1)]),e("div",Ue,[y(e("input",{"onUpdate:modelValue":a[4]||(a[4]=o=>d(C)?C.value=o:C=o),id:"price",type:"number",required:"",maxlength:"6",min:"0",placeholder:l.$i18n.locale==="ar"?"السعر":"Price"},null,8,Ne),[[L,i(C)]]),e("label",De,s(l.$i18n.locale==="ar"?"السعر":"Price"),1)])])]),e("div",Se,[e("button",{class:"btn btn-secondary",onClick:t},s(l.$t("Close")),9,Pe),e("button",{class:"btn btn-success mx-2",onClick:j,autofocus:""},s(l.$t("Add")),1)])],8,ye)]),_:1},8,["visible"]),b(I,{visible:i(k),"onUpdate:visible":a[9]||(a[9]=t=>d(k)?k.value=t:null),modal:"",style:{width:"25rem"}},{container:N(({closeCallback:t})=>[e("div",{class:"dialog",dir:l.$i18n.locale==="ar"?"rtl":"ltr"},[e("h5",null,s(l.$i18n.locale==="ar"?"تعديل المنطقة":"Edit Region"),1),e("div",Be,[e("div",null,[e("div",Ie,[y(e("input",{"onUpdate:modelValue":a[6]||(a[6]=o=>d(p)?p.value=o:p=o),id:"editnameAr",type:"text",required:"",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الاسم بالعربي":"Arabic Name",title:"Enter only letters and spaces"},null,8,Ve),[[L,i(p)]]),e("label",Te,s(l.$i18n.locale==="ar"?"الاسم بالعربي":"Arabic Name"),1)]),e("div",Ge,[y(e("input",{"onUpdate:modelValue":a[7]||(a[7]=o=>d(m)?m.value=o:m=o),id:"editnameEn",type:"text",required:"",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الاسم بالانجليزي":"English Name"},null,8,Me),[[L,i(m)]]),e("label",Oe,s(l.$i18n.locale==="ar"?"الاسم بالانجليزي":"English Name"),1)]),e("div",je,[y(e("input",{"onUpdate:modelValue":a[8]||(a[8]=o=>d(v)?v.value=o:v=o),id:"price",type:"number",required:"",maxlength:"6",min:"0",placeholder:l.$i18n.locale==="ar"?"السعر":"Price"},null,8,Ye),[[L,i(v)]]),e("label",Fe,s(l.$i18n.locale==="ar"?"السعر":"Price"),1)])])]),e("div",He,[e("button",{class:"btn btn-secondary",onClick:t},s(l.$t("Close")),9,xe),e("button",{class:"btn btn-success mx-2",onClick:F,autofocus:""},s(l.$t("Edit")),1)])],8,qe)]),_:1},8,["visible"]),b(H,{isOpen:i(c),onUpdateIsOpen:M},{header:N(()=>[e("h4",null,s(l.$i18n.locale==="ar"?"تأكيد الحذف":"Confirm Delete"),1)]),content:N(()=>[e("p",null,s(l.$i18n.locale==="ar"?"هل أنت متأكد من أنك تريد حذف":"Are You Sure You Want To Delete")+' "'+s(i(w).name)+'"'+s(l.$i18n.locale==="ar"?"؟":"?"),1)]),footer:N(()=>[e("button",{class:"btn btn-secondary",onClick:a[10]||(a[10]=t=>d(c)?c.value=!1:c=!1)},s(l.$t("Close")),1),e("button",{class:"btn btn-danger",onClick:a[11]||(a[11]=t=>O())},s(l.$t("Delete")),1)]),_:1},8,["isOpen"])],64)}}},el=W(ze,[["__scopeId","data-v-db92e89b"]]);export{el as default};
